<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Beijing Wu | Project | Brain Tumor Detection</title>
    <meta name="description" content="Beijing Wu | Project | Brain Tumor Detection">

    <!-- Bootstrap & MDB -->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet" integrity="sha512-MoRNloxbStBcD8z3M/2BmnT+rg4IsMxPkXaGh2zD6LGNNFE80W3onsAhRcMAMrSoyWL9xD7Ert0men7vR8LUZg==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" integrity="sha512-RO38pBRxYH3SoOprtPTD86JFOclM51/XTIdEPh5j8sj4tp8jmQIx26twG52UaLi//hQldfrh7e51WzP9wuP32Q==" crossorigin="anonymous" />

    <!-- Fonts & Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.14.0/css/all.min.css" integrity="sha512-1PKOgIY59xJ8Co8+NE6FZ+LOAZKjy+KY8iq0G4B3CyeY6wYHN3yt9PW0XpSriVlkMXe40PTKnXrLnZ9+fkDaog==" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/academicons/1.9.0/css/academicons.min.css" integrity="sha512-W4yqoT1+8NLkinBLBZko+dFB2ZbHsYLDdr50VElllRcNt2Q4/GSs6u71UHKxB7S6JEMCp5Ve4xjh3eGQl/HRvg==" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons">

    <!-- Code Syntax Highlighting -->
    <link rel="stylesheet" href="https://gitcdn.link/repo/jwarby/jekyll-pygments-themes/master/github.css" />

    <!-- Styles -->
    <link rel="shortcut icon" href="/assets/img/favicon.ico">
    <link rel="stylesheet" href="/assets/css/main.css">

    <link rel="canonical" href="/">

    <!-- Theming-->
    <script src="/assets/js/theme.js"></script>

    <!-- Start of Google Analytics code ID -->
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-162315295-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());

        gtag('config', 'UA-162315295-1');
    </script>
    <!-- End of Google Analytics code ID -->
</head>

<body class="fixed-top-nav">

    <!-- Header -->
    <header>

        <!-- Nav Bar -->
        <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top">
            <div class="container">

                <!-- Social Icons -->
                <div class="row ml-1 ml-sm-0">
                    <span class="contact-icon text-center">

                        <a href="https://github.com/wubeijing" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
                        <a href="https://www.linkedin.com/in/beijing-wu-39aabb91/" target="_blank" title="LinkedIn"><i class="fab fa-linkedin"></i></a>
                        <a href="/assets/pdf/BeijingWu_2020_v02.pdf" target="_blank" title="Resume"><i class="fab fa-readme"></i></a>
                    
                    </span>
                </div>

                <!-- Navbar Toogle -->
                <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar top-bar"></span>
            <span class="icon-bar middle-bar"></span>
            <span class="icon-bar bottom-bar"></span>
          </button>

                <div class="collapse navbar-collapse text-right" id="navbarNav">
                    <ul class="navbar-nav ml-auto flex-nowrap">

                        <!-- About -->
                        <li class="nav-item ">
                            <a class="nav-link" href="/">ABOUT</a>
                        </li>

                        <!-- Projects -->
                        <li class="nav-item ">
                            <a class="nav-link" href="/projects/">PROJECTS<span class="sr-only">(current)</span></a>
                        </li>

                        <!-- Skills -->
                        <li class="nav-item ">
                            <a class="nav-link" href="/skills/">SKILLS</a>
                        </li>
						
                        <!-- Publications -->
                        <li class="nav-item ">
                            <a class="nav-link" href="/publication/">PUBLICATIONS</a>
                        </li>

                        <div class="toggle-container">
                            <a id="light-toggle">
                                <i class="fas fa-moon"></i>
                                <i class="fas fa-sun"></i>
                            </a>
                        </div>

                    </ul>
                </div>
            </div>
        </nav>
    </header>

    <!-- CONTENT -->
    <div class="container mt-5">
        <div class="post">

            <header class="post-header">
                <h2 id="tic-tac-toe"><a href="https://github.com/wubeijing/BrainTumorDetection.git" target="_blank">Detecting Brain Tumors in Patients Given Brain Scan Imagery</a></h2>
                <p>
                    <strong>Machine Learning | Python </strong><br><i>April 2022</i>
                </p>
                <hr />
            </header>

            <article>

                <!-- Content -->
                <p>
                    <a href="https://github.com/wubeijing/BrainTumorDetection.git" target="_blank"><img src="../../assets/img/brain_tumor_detection_img_preprocessing.png" class="card-img-top" /></a>
                </p>
                <hr />

                <h4 id="project-description">Motivation and Dataset</h4>
                <p>Brain tumors are the second leading cause of cancer death in children under 15 and second fastest growing cause of cancer death for people over 65. Brain tumor is a collection of abnormal cells in the brain. It can be non-cancerous or cancerous. If it originates in the brain, it is a primary brain tumor and many primary brain tumors are non-cancerous. If it is metastasized to brain because cancer cells spread to the brain from another organ, it is seconadary. Even if a brain tumor is non-cancerous, as you can imagine, it still can be dangerous because it can damage and compress parts of the brain, causing severe dysfunction. Depend on the size and location of the brain tumor, symptoms of brain tumors can range from headaches, seizures, to change in personality, memory or speech.
                <br><br>Diagnosis of a brain tumor usually begins with a detailed neuro exam, folllowed by imaging tests and biopsy of a small tissue sample. Imaging tests can be CT scan, MRI, or X-rays. Imaging is extremely important because it shows whether there is a tumor, and if there is, its approximate size and location. The images can also help plan treatment. Integration of machine learning technology into medical imaging and radiology has many advantages such as improving the accurarcy and speed of diagnosis, clinical decision making, and this will lead to better outcomes.
                <br><br>Our dataset is <a href="https://www.kaggle.com/datasets/preetviradiya/brian-tumor-dataset?select=Brain+Tumor+Data+Set" target="_blank" style="color:#2C6BAC; font-weight:bold">a Brain tumor X-ray image dataset from Kaggle</a> for classification. It contains a total of 4600 images. It is relatively balanced, with about 55% images with brain tumor, and 45% are healthy brain. These images are stored in a variety of formats, sizes, and color schemes.                
                </p>

                <h4 id="skills">Skills</h4>
                <p>Machine Learning Algorithm (KNN, Naive Bayes, Random Forest, Gradient Boosted Classification Tree, Logistic Regression, Stacked Ensemble) </p>

                <h4 id="tools">Tools</h4>
                <p>Python, NumPy, scikit-learn, scikit-image, OpenCV, pillow</p>
                <hr />

                <h4 id="algorithm">Automated Image Preprocessing and Model Development Pipeline</h4>
                <p>We implemented a series of 6 image preprocessing functions, all of which have the same goal, that is, to preserve and maximize useful features in the images and to decrease computational costs.
                    <ul>
                        <li>The <b>image standardization function</b> modifies images to 2D 256 by 256 in size and in greyscale.</li>
                        <li>The <b>blurring function</b> reduces image noise and details using a custom Gaussian or box filter.</li>
                        <li>The <b>pooling function</b> applies an aggregation function to a chunk of an image, and the resulting image is the aggregate value of the chunk, which is smaller in size compared to the original, but with important features intensified and irrelevant information discarded.</li>
                        <li>The <b>binarization function</b> converts grayscale images into black and white, which sharpens the contours of objects in the image.</li>
                        <li>The <b>cropping function</b> removes unnecessary padding around the image while preserve the aspect ratio and minimizes sensitivity to relative scan size.</li>
                        <li>The <b>resizing function</b> further reduces image size using an image processing package called pillow. It does pooling, blurring, and binarization of the image in a single step, in which a really high dimensional image is squeezed down to a lower dimensional representation.</li>
                    </ul>
                Here is an example to apply these preprocessing functions sequentially. On the top row, the original image was standardized to 256 x 256 in greyscale, then blurred using a 5 x 5 Gaussian filter, followed by max pooling with a pool size of 2 x 2, and the image size was now reduced to 128 x 128. The image was then binarized and cropped, and resized to 16 x 16 pixel in size. On the bottom row, the original image was processed using the same settings but in different order.
                <br><br>
                <a href="https://github.com/wubeijing/BrainTumorDetection.git" target="_blank"><img src="../../assets/img/brain_tumor_detection_img_preprocessing.png" class="card-img-top" /></a>
                <br><br>The processed images look quite different depending on the order of applied preprocessing functions. How do we know in which order we should apply these functions? Are all of these preprocessing steps needed since some of the steps took much longer than others?
                <br><br>After defining the image preprocessing functions, we began model development process. Some of the key considerations are -
                    <ol type="1">
                        <li>Given preprocessed labeled data in any model type, what are the optimal hyperparameter settings that will allow that model to best generalize to out of sample data, which is measured via out of sample F1 score? We chose F1 score because we wanted to not only measure the model's ability to detect tumor in these images, but also make sure the detection is accurate.</li>
                        <br>To identify an optimal model in this setting, we built a custom pipeline that applies user speficied preprocessing steps to the original images, executes grid search to find optimal hyperparameter settings for a given model, and conducts a threshold analysis for predicted probability threshold that maximizes optimal model performance. 
                        <li>What sequence of preprocessing steps enable an optimal model to generalize the best to out of sample data? Different preprocessing combinations have fundamentally different impact on the image, which ultimately impact model performance. We also wanted to avoid an one-size-fits-all approach because the preprocessing steps used to optimize a KNN model performance, for example, would be fundamentally different compared to the treatment used to optimize a logistic regression model performance.
                        <br>We developed a greedy decision algorithm as a wrapper around the pipeline described above. First, we evaluated the impact of resizing to ensure our models were trained on images containing as much valuable information as possible. Without incorporating as much valuable information, models would generalize poorly. Or the models would take too long to train because the original images contained too much information. After identifying image size that optimized model performance, user specified preprocessing methods were evaluated to see if the addtion of any of the treatment, given the resized images, would improve optimal model performance even further.
                        </li>
                    </ol>
                </p>

                <hr />

                <p>
                    
                </p>
                <hr />
                <p>See the complete project in my <a href="https://github.com/wubeijing/BrainTumorDetection.git" target="_blank">GitHub repository.</a></p>

            </article>
        </div>
    </div>

    <!-- Footer -->
    <footer class="fixed-bottom">
        <div class="container mt-0">
            &copy; Copyright 2022 Beijing Wu. Powered by <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank">GitHub Pages</a>. Last updated: June 17, 2022.
        </div>
    </footer>
</body>

<!-- jQuery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>

<!-- Bootsrap & MDB scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.4.4/umd/popper.min.js" integrity="sha512-eUQ9hGdLjBjY3F41CScH3UX+4JDSI9zXeroz7hJ+RteoCaY+GP/LDoM8AO+Pt+DRFw3nXqsjh9Zsts8hnYv8/A==" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha512-M5KW3ztuIICmVIhjSqXe01oV2bpe248gOxqmlcYrEzAvws7Pw3z6BK0iGbrwvdrUQUhi3eXgtxp5I8PDo9YfjQ==" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js" integrity="sha512-Mug9KHKmroQFMLm93zGrjhibM2z2Obg9l6qFG2qKjXEXkMp/VDkI4uju9m4QKPjWSwQ6O2qzZEnJDEeCw0Blcw==" crossorigin="anonymous"></script>

<!-- Load Common JS -->
<script src="/assets/js/common.js"></script>

<!-- Load DarkMode JS -->
<script src="/assets/js/dark_mode.js"></script>

</html>